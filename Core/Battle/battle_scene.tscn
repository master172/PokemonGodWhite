[gd_scene load_steps=18 format=3 uid="uid://csyacx8un7080"]

[ext_resource type="PackedScene" uid="uid://b2uywh38qmnxh" path="res://Core/Battle/Areas/BattleArea0.tscn" id="1_hg34g"]
[ext_resource type="Script" path="res://Core/Battle/battle_scene.gd" id="1_lsbo8"]
[ext_resource type="PackedScene" uid="uid://4oakufv7l1dw" path="res://Core/Battle/Ui/hud.tscn" id="3_r76kw"]
[ext_resource type="PackedScene" uid="uid://d4ckyncwga1be" path="res://Core/Battle/Ui/poke_data.tscn" id="4_asoq2"]
[ext_resource type="Script" path="res://Core/Battle/DialogHandler.gd" id="5_duj7c"]
[ext_resource type="Resource" uid="uid://xdkt7cpvxvc6" path="res://Resources/Dialogs/Battles/Won.tres" id="6_nwkta"]
[ext_resource type="Script" path="res://Libraries/Resources/Dialog/Dialog.gd" id="7_1shl8"]
[ext_resource type="Script" path="res://Libraries/Resources/Dialog/DialogueLine.gd" id="8_geedj"]

[sub_resource type="Resource" id="Resource_ust6q"]
script = ExtResource("7_1shl8")
Dialog_type = 0
text = "Ash defeated the opposing {Pokemon}"
next = 1
Actors = Array[Resource("res://Libraries/Resources/Dialog/Actor.gd")]([])
functions = Array[Resource("res://Libraries/Resources/Dialog/function.gd")]([])
Options = Array[Resource("res://Libraries/Resources/Dialog/Option.gd")]([])

[sub_resource type="Resource" id="Resource_i1sr4"]
script = ExtResource("7_1shl8")
Dialog_type = 0
text = "{Winner} recived {points} exp points"
next = 2
Actors = Array[Resource("res://Libraries/Resources/Dialog/Actor.gd")]([])
functions = Array[Resource("res://Libraries/Resources/Dialog/function.gd")]([])
Options = Array[Resource("res://Libraries/Resources/Dialog/Option.gd")]([])

[sub_resource type="Resource" id="Resource_4ual5"]
script = ExtResource("7_1shl8")
Dialog_type = 0
text = "{Winner} levelled up to level {level}"
next = -1
Actors = Array[Resource("res://Libraries/Resources/Dialog/Actor.gd")]([])
functions = Array[Resource("res://Libraries/Resources/Dialog/function.gd")]([])
Options = Array[Resource("res://Libraries/Resources/Dialog/Option.gd")]([])

[sub_resource type="Resource" id="Resource_tcc5u"]
script = ExtResource("8_geedj")
Dialogs = Array[ExtResource("7_1shl8")]([SubResource("Resource_ust6q"), SubResource("Resource_i1sr4"), SubResource("Resource_4ual5")])
Format = {}

[sub_resource type="Resource" id="Resource_d3sre"]
script = ExtResource("7_1shl8")
Dialog_type = 0
text = "{Pokemon} fainted, will ash send a new pokemon"
next = -1
Actors = Array[Resource("res://Libraries/Resources/Dialog/Actor.gd")]([])
functions = Array[Resource("res://Libraries/Resources/Dialog/function.gd")]([])
Options = Array[Resource("res://Libraries/Resources/Dialog/Option.gd")]([])

[sub_resource type="Resource" id="Resource_l15oa"]
script = ExtResource("8_geedj")
Dialogs = Array[ExtResource("7_1shl8")]([SubResource("Resource_d3sre")])
Format = {}

[sub_resource type="Resource" id="Resource_gn677"]
script = ExtResource("7_1shl8")
Dialog_type = 0
text = "{Pokemon} fainted, ash is out of pokemon"
next = 1
Actors = Array[Resource("res://Libraries/Resources/Dialog/Actor.gd")]([])
functions = Array[Resource("res://Libraries/Resources/Dialog/function.gd")]([])
Options = Array[Resource("res://Libraries/Resources/Dialog/Option.gd")]([])

[sub_resource type="Resource" id="Resource_it387"]
script = ExtResource("7_1shl8")
Dialog_type = 0
text = "Ash whited out"
next = -1
Actors = Array[Resource("res://Libraries/Resources/Dialog/Actor.gd")]([])
functions = Array[Resource("res://Libraries/Resources/Dialog/function.gd")]([])
Options = Array[Resource("res://Libraries/Resources/Dialog/Option.gd")]([])

[sub_resource type="Resource" id="Resource_gr6tl"]
script = ExtResource("8_geedj")
Dialogs = Array[ExtResource("7_1shl8")]([SubResource("Resource_gn677"), SubResource("Resource_it387")])
Format = {}

[node name="BattleScene" type="Node2D"]
script = ExtResource("1_lsbo8")

[node name="Area0" parent="." instance=ExtResource("1_hg34g")]

[node name="Hud" parent="." instance=ExtResource("3_r76kw")]

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(609, 760)
gizmo_extents = 67.1

[node name="AllyPokemon" type="Node2D" parent="."]

[node name="EnemyPokemon" type="Node2D" parent="."]

[node name="PresistentAttacks" type="Node2D" parent="."]

[node name="PokeData" parent="." instance=ExtResource("4_asoq2")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_right = 1200.0
offset_bottom = 800.0

[node name="DialogHandler" type="Node" parent="."]
script = ExtResource("5_duj7c")
won_dialog = ExtResource("6_nwkta")
won_dialog_level_up = SubResource("Resource_tcc5u")
lost_match = SubResource("Resource_l15oa")
lost_battle = SubResource("Resource_gr6tl")

[connection signal="pokemon_selected" from="Hud" to="." method="_on_hud_pokemon_selected"]
